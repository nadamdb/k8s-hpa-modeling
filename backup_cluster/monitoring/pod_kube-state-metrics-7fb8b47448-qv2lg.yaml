apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: "2019-07-18T11:30:39Z"
  generateName: kube-state-metrics-7fb8b47448-
  labels:
    app: kube-state-metrics
    pod-template-hash: 7fb8b47448
  name: kube-state-metrics-7fb8b47448-qv2lg
  namespace: monitoring
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: kube-state-metrics-7fb8b47448
    uid: 7829bce9-a94f-11e9-858a-fa163eb7a9f3
  resourceVersion: "15777386"
  selfLink: /api/v1/namespaces/monitoring/pods/kube-state-metrics-7fb8b47448-qv2lg
  uid: 782d2bf5-a94f-11e9-858a-fa163eb7a9f3
spec:
  containers:
  - args:
    - --logtostderr
    - --secure-listen-address=:8443
    - --tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
    - --upstream=http://127.0.0.1:8081/
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imagePullPolicy: IfNotPresent
    name: kube-rbac-proxy-main
    ports:
    - containerPort: 8443
      name: https-main
      protocol: TCP
    resources:
      limits:
        cpu: 20m
        memory: 40Mi
      requests:
        cpu: 10m
        memory: 20Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-state-metrics-token-rrqqk
      readOnly: true
  - args:
    - --logtostderr
    - --secure-listen-address=:9443
    - --tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
    - --upstream=http://127.0.0.1:8082/
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imagePullPolicy: IfNotPresent
    name: kube-rbac-proxy-self
    ports:
    - containerPort: 9443
      name: https-self
      protocol: TCP
    resources:
      limits:
        cpu: 20m
        memory: 40Mi
      requests:
        cpu: 10m
        memory: 20Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-state-metrics-token-rrqqk
      readOnly: true
  - args:
    - --host=127.0.0.1
    - --port=8081
    - --telemetry-host=127.0.0.1
    - --telemetry-port=8082
    image: quay.io/coreos/kube-state-metrics:v1.5.0
    imagePullPolicy: IfNotPresent
    name: kube-state-metrics
    resources:
      limits:
        cpu: 108m
        memory: 270Mi
      requests:
        cpu: 108m
        memory: 270Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-state-metrics-token-rrqqk
      readOnly: true
  - command:
    - /pod_nanny
    - --container=kube-state-metrics
    - --cpu=100m
    - --extra-cpu=2m
    - --memory=150Mi
    - --extra-memory=30Mi
    - --threshold=5
    - --deployment=kube-state-metrics
    env:
    - name: MY_POD_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.name
    - name: MY_POD_NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    image: k8s.gcr.io/addon-resizer:1.8.4
    imagePullPolicy: IfNotPresent
    name: addon-resizer
    resources:
      limits:
        cpu: 50m
        memory: 30Mi
      requests:
        cpu: 10m
        memory: 30Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-state-metrics-token-rrqqk
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  nodeName: worker-2
  nodeSelector:
    beta.kubernetes.io/os: linux
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    runAsNonRoot: true
    runAsUser: 65534
  serviceAccount: kube-state-metrics
  serviceAccountName: kube-state-metrics
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  volumes:
  - name: kube-state-metrics-token-rrqqk
    secret:
      defaultMode: 420
      secretName: kube-state-metrics-token-rrqqk
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2019-07-18T11:30:39Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2019-07-18T11:30:47Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2019-07-18T11:30:47Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2019-07-18T11:30:39Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: docker://3b0f1b5bcf6e34e6aeaed8a7692846f2a71e925edf04d5ef9a8be0b57af566af
    image: k8s.gcr.io/addon-resizer:1.8.4
    imageID: docker-pullable://k8s.gcr.io/addon-resizer@sha256:a31822f30e947885d038812f4a5a5675e72f92c06cef17b1989c80426aa89012
    lastState: {}
    name: addon-resizer
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: "2019-07-18T11:30:46Z"
  - containerID: docker://545ae75daa5775f1c089367154f9c691d8068b3fe3cfae00aeceaf44fe3f6837
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imageID: docker-pullable://quay.io/coreos/kube-rbac-proxy@sha256:9d07c391aeb1a9d02eb4343c113ed01825227c70c32b3cae861711f90191b0fd
    lastState: {}
    name: kube-rbac-proxy-main
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: "2019-07-18T11:30:42Z"
  - containerID: docker://448a4a6a4da6703c79ca35b309b656733b71f41ebcbbfd3edde38fb45d171594
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imageID: docker-pullable://quay.io/coreos/kube-rbac-proxy@sha256:9d07c391aeb1a9d02eb4343c113ed01825227c70c32b3cae861711f90191b0fd
    lastState: {}
    name: kube-rbac-proxy-self
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: "2019-07-18T11:30:44Z"
  - containerID: docker://3cc2b0d16ddbd050f2164d8601a232781127fecc2e50cf503db0140eb9ffa2ec
    image: quay.io/coreos/kube-state-metrics:v1.5.0
    imageID: docker-pullable://quay.io/coreos/kube-state-metrics@sha256:b7a3143bd1eb7130759c9259073b9f239d0eeda09f5210f1cd31f1a530599ea1
    lastState: {}
    name: kube-state-metrics
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: "2019-07-18T11:30:45Z"
  hostIP: 172.16.0.19
  phase: Running
  podIP: 10.36.0.6
  qosClass: Burstable
  startTime: "2019-07-18T11:30:39Z"
