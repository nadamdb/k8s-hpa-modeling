apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: "2019-03-20T15:49:09Z"
  generateName: node-exporter-
  labels:
    app: node-exporter
    controller-revision-hash: 6c444876dc
    pod-template-generation: "1"
  name: node-exporter-z59lq
  namespace: monitoring
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: DaemonSet
    name: node-exporter
    uid: b3274aea-4b27-11e9-8f3b-fa163eb7a9f3
  resourceVersion: "15117256"
  selfLink: /api/v1/namespaces/monitoring/pods/node-exporter-z59lq
  uid: b32c843e-4b27-11e9-8f3b-fa163eb7a9f3
spec:
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchFields:
          - key: metadata.name
            operator: In
            values:
            - master
  containers:
  - args:
    - --web.listen-address=127.0.0.1:9100
    - --path.procfs=/host/proc
    - --path.sysfs=/host/sys
    - --path.rootfs=/host/root
    - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+)($|/)
    - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|cgroup|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|mqueue|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|sysfs|tracefs)$
    image: quay.io/prometheus/node-exporter:v0.17.0
    imagePullPolicy: IfNotPresent
    name: node-exporter
    resources:
      limits:
        cpu: 250m
        memory: 180Mi
      requests:
        cpu: 102m
        memory: 180Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /host/proc
      name: proc
    - mountPath: /host/sys
      name: sys
    - mountPath: /host/root
      mountPropagation: HostToContainer
      name: root
      readOnly: true
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: node-exporter-token-b7q76
      readOnly: true
  - args:
    - --logtostderr
    - --secure-listen-address=$(IP):9100
    - --tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
    - --upstream=http://127.0.0.1:9100/
    env:
    - name: IP
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: status.podIP
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imagePullPolicy: IfNotPresent
    name: kube-rbac-proxy
    ports:
    - containerPort: 9100
      hostPort: 9100
      name: https
      protocol: TCP
    resources:
      limits:
        cpu: 20m
        memory: 40Mi
      requests:
        cpu: 10m
        memory: 20Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: node-exporter-token-b7q76
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  hostNetwork: true
  hostPID: true
  nodeName: master
  nodeSelector:
    beta.kubernetes.io/os: linux
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    runAsNonRoot: true
    runAsUser: 65534
  serviceAccount: node-exporter
  serviceAccountName: node-exporter
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    operator: Exists
  - effect: NoSchedule
    operator: Exists
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
  - effect: NoSchedule
    key: node.kubernetes.io/disk-pressure
    operator: Exists
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  - effect: NoSchedule
    key: node.kubernetes.io/unschedulable
    operator: Exists
  - effect: NoSchedule
    key: node.kubernetes.io/network-unavailable
    operator: Exists
  volumes:
  - hostPath:
      path: /proc
      type: ""
    name: proc
  - hostPath:
      path: /sys
      type: ""
    name: sys
  - hostPath:
      path: /
      type: ""
    name: root
  - name: node-exporter-token-b7q76
    secret:
      defaultMode: 420
      secretName: node-exporter-token-b7q76
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2019-03-20T15:49:09Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2019-07-13T13:31:47Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2019-07-13T13:31:47Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2019-03-20T15:49:09Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: docker://72c87f58696ea2e968450ae9e493929f8e8393ebef1b9e1b6bcbca7759574f3a
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imageID: docker-pullable://quay.io/coreos/kube-rbac-proxy@sha256:9d07c391aeb1a9d02eb4343c113ed01825227c70c32b3cae861711f90191b0fd
    lastState:
      terminated:
        containerID: docker://59e811136377b323405f2aa368a467df2b71f38330db5a77daa62136e3542197
        exitCode: 137
        finishedAt: "2019-07-13T13:31:38Z"
        reason: Error
        startedAt: "2019-03-20T15:49:12Z"
    name: kube-rbac-proxy
    ready: true
    restartCount: 1
    state:
      running:
        startedAt: "2019-07-13T13:31:46Z"
  - containerID: docker://5869752cdd993f16e4e6bcf4a1d96662a9e6996ea9ff8fe219093a0eae201a36
    image: quay.io/prometheus/node-exporter:v0.17.0
    imageID: docker-pullable://quay.io/prometheus/node-exporter@sha256:1b129a3801a0440f9c5b2afb20082dfdb31bf6092b561f5f249531130000cb83
    lastState:
      terminated:
        containerID: docker://ec42a536c4343a3c2804b59ccddee9bc4a17f3fb1b99ede37510937cbb3d83ab
        exitCode: 137
        finishedAt: "2019-07-13T13:31:38Z"
        reason: Error
        startedAt: "2019-03-20T15:49:10Z"
    name: node-exporter
    ready: true
    restartCount: 1
    state:
      running:
        startedAt: "2019-07-13T13:31:44Z"
  hostIP: 172.16.0.27
  phase: Running
  podIP: 172.16.0.27
  qosClass: Burstable
  startTime: "2019-03-20T15:49:09Z"
