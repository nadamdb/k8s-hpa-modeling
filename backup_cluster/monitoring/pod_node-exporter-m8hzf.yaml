apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: "2019-03-20T15:49:09Z"
  generateName: node-exporter-
  labels:
    app: node-exporter
    controller-revision-hash: 6c444876dc
    pod-template-generation: "1"
  name: node-exporter-m8hzf
  namespace: monitoring
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: DaemonSet
    name: node-exporter
    uid: b3274aea-4b27-11e9-8f3b-fa163eb7a9f3
  resourceVersion: "16844803"
  selfLink: /api/v1/namespaces/monitoring/pods/node-exporter-m8hzf
  uid: b32d7d23-4b27-11e9-8f3b-fa163eb7a9f3
spec:
  affinity:
    nodeAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        nodeSelectorTerms:
        - matchFields:
          - key: metadata.name
            operator: In
            values:
            - worker-1
  containers:
  - args:
    - --web.listen-address=127.0.0.1:9100
    - --path.procfs=/host/proc
    - --path.sysfs=/host/sys
    - --path.rootfs=/host/root
    - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+)($|/)
    - --collector.filesystem.ignored-fs-types=^(autofs|binfmt_misc|cgroup|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|mqueue|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|sysfs|tracefs)$
    image: quay.io/prometheus/node-exporter:v0.17.0
    imagePullPolicy: IfNotPresent
    name: node-exporter
    resources:
      limits:
        cpu: 250m
        memory: 180Mi
      requests:
        cpu: 102m
        memory: 180Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /host/proc
      name: proc
    - mountPath: /host/sys
      name: sys
    - mountPath: /host/root
      mountPropagation: HostToContainer
      name: root
      readOnly: true
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: node-exporter-token-b7q76
      readOnly: true
  - args:
    - --logtostderr
    - --secure-listen-address=$(IP):9100
    - --tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
    - --upstream=http://127.0.0.1:9100/
    env:
    - name: IP
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: status.podIP
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imagePullPolicy: IfNotPresent
    name: kube-rbac-proxy
    ports:
    - containerPort: 9100
      hostPort: 9100
      name: https
      protocol: TCP
    resources:
      limits:
        cpu: 20m
        memory: 40Mi
      requests:
        cpu: 10m
        memory: 20Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: node-exporter-token-b7q76
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  hostNetwork: true
  hostPID: true
  nodeName: worker-1
  nodeSelector:
    beta.kubernetes.io/os: linux
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    runAsNonRoot: true
    runAsUser: 65534
  serviceAccount: node-exporter
  serviceAccountName: node-exporter
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    operator: Exists
  - effect: NoSchedule
    operator: Exists
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
  - effect: NoSchedule
    key: node.kubernetes.io/disk-pressure
    operator: Exists
  - effect: NoSchedule
    key: node.kubernetes.io/memory-pressure
    operator: Exists
  - effect: NoSchedule
    key: node.kubernetes.io/unschedulable
    operator: Exists
  - effect: NoSchedule
    key: node.kubernetes.io/network-unavailable
    operator: Exists
  volumes:
  - hostPath:
      path: /proc
      type: ""
    name: proc
  - hostPath:
      path: /sys
      type: ""
    name: sys
  - hostPath:
      path: /
      type: ""
    name: root
  - name: node-exporter-token-b7q76
    secret:
      defaultMode: 420
      secretName: node-exporter-token-b7q76
status:
  conditions:
  - lastProbeTime: null
    lastTransitionTime: "2019-03-20T15:49:09Z"
    status: "True"
    type: Initialized
  - lastProbeTime: null
    lastTransitionTime: "2019-03-20T15:49:15Z"
    status: "True"
    type: Ready
  - lastProbeTime: null
    lastTransitionTime: "2019-03-20T15:49:15Z"
    status: "True"
    type: ContainersReady
  - lastProbeTime: null
    lastTransitionTime: "2019-03-20T15:49:09Z"
    status: "True"
    type: PodScheduled
  containerStatuses:
  - containerID: docker://31bcaae9e85dec8e6ac7bdea0b1ff8d0e9c420bdcd65ab0b524b25d85f765c37
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imageID: docker-pullable://quay.io/coreos/kube-rbac-proxy@sha256:9d07c391aeb1a9d02eb4343c113ed01825227c70c32b3cae861711f90191b0fd
    lastState: {}
    name: kube-rbac-proxy
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: "2019-03-20T15:49:14Z"
  - containerID: docker://9e60040f274d802bec29378694e9ba038353a9b6e0c681421dd415c0cba30412
    image: quay.io/prometheus/node-exporter:v0.17.0
    imageID: docker-pullable://quay.io/prometheus/node-exporter@sha256:1b129a3801a0440f9c5b2afb20082dfdb31bf6092b561f5f249531130000cb83
    lastState: {}
    name: node-exporter
    ready: true
    restartCount: 0
    state:
      running:
        startedAt: "2019-03-20T15:49:11Z"
  hostIP: 172.16.0.13
  phase: Running
  podIP: 172.16.0.13
  qosClass: Burstable
  startTime: "2019-03-20T15:49:09Z"
