apiVersion: v1
kind: Pod
metadata:
  creationTimestamp: null
  generateName: kube-state-metrics-7fb8b47448-
  labels:
    app: kube-state-metrics
    pod-template-hash: 7fb8b47448
  ownerReferences:
  - apiVersion: apps/v1
    blockOwnerDeletion: true
    controller: true
    kind: ReplicaSet
    name: kube-state-metrics-7fb8b47448
    uid: 7829bce9-a94f-11e9-858a-fa163eb7a9f3
  selfLink: /api/v1/namespaces/monitoring/pods/kube-state-metrics-7fb8b47448-qv2lg
spec:
  containers:
  - args:
    - --logtostderr
    - --secure-listen-address=:8443
    - --tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
    - --upstream=http://127.0.0.1:8081/
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imagePullPolicy: IfNotPresent
    name: kube-rbac-proxy-main
    ports:
    - containerPort: 8443
      name: https-main
      protocol: TCP
    resources:
      limits:
        cpu: 20m
        memory: 40Mi
      requests:
        cpu: 10m
        memory: 20Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-state-metrics-token-rrqqk
      readOnly: true
  - args:
    - --logtostderr
    - --secure-listen-address=:9443
    - --tls-cipher-suites=TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256
    - --upstream=http://127.0.0.1:8082/
    image: quay.io/coreos/kube-rbac-proxy:v0.4.1
    imagePullPolicy: IfNotPresent
    name: kube-rbac-proxy-self
    ports:
    - containerPort: 9443
      name: https-self
      protocol: TCP
    resources:
      limits:
        cpu: 20m
        memory: 40Mi
      requests:
        cpu: 10m
        memory: 20Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-state-metrics-token-rrqqk
      readOnly: true
  - args:
    - --host=127.0.0.1
    - --port=8081
    - --telemetry-host=127.0.0.1
    - --telemetry-port=8082
    image: quay.io/coreos/kube-state-metrics:v1.5.0
    imagePullPolicy: IfNotPresent
    name: kube-state-metrics
    resources:
      limits:
        cpu: 108m
        memory: 270Mi
      requests:
        cpu: 108m
        memory: 270Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-state-metrics-token-rrqqk
      readOnly: true
  - command:
    - /pod_nanny
    - --container=kube-state-metrics
    - --cpu=100m
    - --extra-cpu=2m
    - --memory=150Mi
    - --extra-memory=30Mi
    - --threshold=5
    - --deployment=kube-state-metrics
    env:
    - name: MY_POD_NAME
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.name
    - name: MY_POD_NAMESPACE
      valueFrom:
        fieldRef:
          apiVersion: v1
          fieldPath: metadata.namespace
    image: k8s.gcr.io/addon-resizer:1.8.4
    imagePullPolicy: IfNotPresent
    name: addon-resizer
    resources:
      limits:
        cpu: 50m
        memory: 30Mi
      requests:
        cpu: 10m
        memory: 30Mi
    terminationMessagePath: /dev/termination-log
    terminationMessagePolicy: File
    volumeMounts:
    - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
      name: kube-state-metrics-token-rrqqk
      readOnly: true
  dnsPolicy: ClusterFirst
  enableServiceLinks: true
  nodeName: worker-2
  nodeSelector:
    beta.kubernetes.io/os: linux
  priority: 0
  restartPolicy: Always
  schedulerName: default-scheduler
  securityContext:
    runAsNonRoot: true
    runAsUser: 65534
  serviceAccount: kube-state-metrics
  serviceAccountName: kube-state-metrics
  terminationGracePeriodSeconds: 30
  tolerations:
  - effect: NoExecute
    key: node.kubernetes.io/not-ready
    operator: Exists
    tolerationSeconds: 300
  - effect: NoExecute
    key: node.kubernetes.io/unreachable
    operator: Exists
    tolerationSeconds: 300
  volumes:
  - name: kube-state-metrics-token-rrqqk
    secret:
      defaultMode: 420
      secretName: kube-state-metrics-token-rrqqk
status:
  phase: Pending
  qosClass: Burstable
